!function(n){"use strict";var t=function(n,e){var a=t.cache[n];return e?a(e,t):function(n){return a(n,t)}};t.cache={about:function(n,t){var e="\n<div class=\"panel panel-default\">\n  <div class=\"panel-heading\">\n    <h3 class=\"panel-title\" >About Solar Plan</h3>\n  </div>\n  <div class=\"panel-body\">\n\n<!--     \n    <dl>\n      <dt></dt>\n      <dd>\n      </dd>\n    </dl>  \n-->      \n    <dl>\n      <dt>Goals of Solar Plan</dt>\n      <dd>\n        <ol>\n          <li>Make it easy to calculate electricity usage</li>\n          <li>Give a quick but hopefully close estimate of solar size/cost</li>\n        </ol>\n      </dd>\n    </dl>     \n    <dl>\n      <dt>What tools will I need?</dt>\n      <dd>\n        Just a <a href=\"http://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=kill+a+watt\">watt-meter</a> and some diligence. \n        You can get your total use from your electricity bill. \n        This app will help identify how each appliance is contributing to your bill.\n        It may also help identify 'phantom loads' - electriciy that is being billed that is  unexplainable.\n        <em>The average use for a US household is 1000 kWh a month. </em>\n      </dd>\n    </dl>     \n    <dl>\n      <dt>Why is usage broken down into Need, Want and Luxury priorities?</dt>\n      <dd>\n        So you can hone in on what 'you really need'. \n        You may find, as many have, that going off-grid makes you change some life habits - and is very expensive. You might want to take some of those Luxury items off the table and move some of those Needs into Wants.\n      </dd>\n    </dl>  \n    <dl>\n      <dt>Will solar save me money or the planet?</dt>\n      <dd>\n        Not in the short term. A grid-tied systems gives you the best likelyhood of saving money eventually. \n        <p/>\n          <em>\n            Off-grid systems are expensive, not green, and won't ever save you money.\n          </em>\n      </dd>\n    </dl>  \n    <dl>\n      <dt>Will I need a generator?</dt>\n      <dd>\n        Yes - almost always. Especially if you want to be ready for an emergency when the grid goes down (and your grid-tied system does not work).\n        <p/>\n        Solar is not the best thing 'for emergencies'. Even with an off-grid solar system you will need to account for weather conditions - so you will need a generator for backup and battery maintenance. I recommend a propane generator since the tanks last indefinately and are widely available.\n      </dd>\n    </dl>  \n    <dl>\n      <dt>Not interested in solar?</dt>\n      <dd>\n        This app will help you understand how much energy the typical US household uses. \n        Quite a bit, it turns out, at least when you consider 'going solar'.\n      </dd>\n    </dl>   \n    <dl>\n      <dt>Personal goals of Solar Plan</dt>\n      <dd>\n        <ol>\n          <li>\n            From a development perspective, get back to the basics.\n            <em>I've been experiencing fatigue and frustration trying to keep up with tools and frameworks of web development, especially with Javascript. </em>\n          </li>\n          <li>\n            Learn more about electricity and solar\n          </li>\n          <li>\n            Find practical uses for solar\n          </li>          \n        </ol>\n      </dd>\n    </dl> \n  </div>\n</div>\n";return e},app:function(n,t){var e=(t.encode,function(n,e){a+=t(n,e)}),a="";return e("nav",n),a+=' \n<div class="container-fluid">\n  <div class="row">\n    <div class="col-lg-12">\n      <div id=\'view\'>\n        ',e("usage",n),a+="\n      </div>         \n      ",e("footer",n),a+="\n    </div>\n  </div>\n</div>\n"},"batt-settings":function(n,t){var e=(t.encode,function(n,e){a+=t(n,e)}),a='\n<div class="panel panel-default" id="battSettings">\n  <div class="panel-heading">\n     <h3 class="panel-title">Battery Settings</h3>\n   </div>\n   <div class="panel-body">\n\n      ';return e("input-radio",{name:"DepthOfDischarge",value:Db.Data.DepthOfDischarge,options:[10,20,30,40,50,60,70,80,90],title:"Percentage you intend to discharge your batteries"}),a+="  \n      <hr/>\n      ",e("input-radio",{name:"Autonomy",value:Db.Data.Autonomy,options:[1,2,3,4,5],title:"How many days your batteries can go without sun"}),a+=" \n\n\n  </div>\n</div>      "},batts:function(n,t){var e=t.encode,a=function(n,e){o+=t(n,e)},o="";a("batt-settings",n),o+='\n\n<a name="batts"></a>\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <span class="pull-right">\n      Multiplier: \n      <b>'+e(Watts.battsMultiplier().toLocaleString())+' </b>\n    </span>\n    <h3 class="panel-title">Batteries</h3>\n  </div>\n  <table class="table table-striped">\n  <thead>\n    <tr>\n      <th>Priority</th>\n      <th>Wh</th>\n      <th width="120">kWh</th>\n    </tr>\n  </thead>\n  <tbody>\n  ';var l=Watts.priorities;o+="\n  ";for(var i=0;i<l.length;i++)o+="\n    <tr>\n      <td>"+e(l[i])+"</td>\n      <td>"+e(Watts.sumOfWattsBy(l[i]).toLocaleString())+'</td>\n      <td title="">\n        '+e((Watts.sumOfWattsBy(l[i])*Watts.battsMultiplier()/1e3).toLocaleString())+"\n      </td>\n    </tr>\n  ";return o+="   \n  </tbody>\n  </table>\n</div>\n\n\n\n"},footer:function(n,t){var e='<div id="footer">\n  <hr/>\n  <a href="#/save">Save</a>   |\n  <a href="#/save">Share</a>  |\n  <a href="#/about">About</a> |\n    <a href="https://github.com/voodoo/static-solar-plan/tree/gh-pages">\n     Github\n    </a> \n  \n</div> ';return e},"fork-me":function(n,t){var e='<a class="github-fork-ribbon right-bottom fixed" href="https://github.com/voodoo/static-solar-plan" title="Fork me on GitHub">Fork me on GitHub</a>';return e},"input-radio":function(n,t){for(var e=t.encode,a="<p><label>"+e(n.name)+"</label> "+e(n.title)+'</p>\n<div id="rdo'+e(n.name)+'" class="btn-group btn-group-justified rdo"\n  role="group" \n  aria-label="Justified button group"> \n  ',o=0;o<n.options.length;o++){a+="\n    ";var l="default";n.options[o]==n.value&&(l="primary"),a+='\n    <a data-name="'+e(n.name)+'" \n        href="#" class="btn btn-'+e(l)+'" role="button">'+e(n.options[o])+"</a> \n  "}return a+="\n</div>\n"},"input-select":function(n,t){for(var e=t.encode,a='<div class="form-group">\n  <label class="control-label col-sm-2" for="'+e(n.name)+'">'+e(n.title)+':</label>\n  <div class="col-sm-10">\n    <select name="'+e(n.name)+"\" class='form-control'>\n      ",o=0;o<n.options.length;o++){a+="\n        ";var l=n.options[o]==n.value?"selected":"";a+="\n        <option "+e(l)+">"+e(n.options[o])+"</option>\n      "}return a+="\n    </select>\n  </div>\n</div>"},"input-text":function(n,t){var e=t.encode,a='<div class="form-group">\n  <label class="control-label col-sm-2" for="email">'+e(n.title)+':</label>\n  <div class="col-sm-10">\n    <input \n      type="'+e(n.type)+'" \n      class="form-control" \n      id="'+e(n.name)+'" \n      value="'+e(n.value)+'"\n      placeholder="'+e(n.placeholder)+'">\n  </div>\n</div>';return a},item:function(n,t){var e=t.encode,a=function(n,e){o+=t(n,e)},o='<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title"> \n      '+e(ItemsController.isNew()?"New":"Edit")+'\n      Item\n    </h3>\n  </div>\n  <div class="panel-body">\n    <form class="form-horizontal" role="form" id="frmItem">\n      ';return a("input-text",{name:"name",title:"Name",placeholder:"Name of  item",type:"text",value:n.name}),o+="\n      ",a("input-text",{name:"watts",title:"Watts",placeholder:"Watts the  item uses",type:"number",value:n.watts}),o+="   \n      ",a("input-text",{name:"hours",title:"Hours",placeholder:"Hours you expect to run the item in a day",type:"number",value:n.hours}),o+=" \n      ",a("input-select",{name:"priority",title:"Priority",placeholder:"Priority of the item",value:n.priority,options:Watts.priorities}),o+='                  \n    </form>\n  </div>\n  <div class="panel-footer">\n    <div class="row">\n      <div class="col-sm-2">\n      <p/>\n        ',ItemsController.isNew()||(o+='\n          <button type="button" class="btn btn-warning" \n                onclick="ItemsController.destroy(\''+e(ItemsController.currentIndex)+"')\">\n            Delete\n          </button>\n        "),o+='        \n      </div>\n      <div class="col-sm-10">\n        ',o+=ItemsController.isNew()?'\n         <button type="button" class="btn btn-primary" \n                onclick="ItemsController.create()">\n          Create\n        </button>\n        ':'\n         <button type="button" class="btn btn-primary" \n                onclick="ItemsController.update(\''+e(ItemsController.currentIndex)+"')\">\n          Update\n        </button>\n        ",o+='\n        <button type="button" class="btn btn-default" \n                onclick="document.location=\'#/usage\'">\n          Cancel\n        </button>  \n      </div>\n    </div>\n  </div>\n</div>'},nav:function(n,t){var e='<nav class="navbar navbar-inverse navbar-fixed-top">\n  <div class="container">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" \n            data-toggle="collapse" data-target="#navbar" \n            aria-expanded="false" aria-controls="navbar">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" href="#/about" ><!-- <img src="img/sun.png" />--> Solar  </a>\n    </div>\n    <div id="navbar" class="navbar-collapse collapse">\n      <ul class="nav navbar-nav">\n        <li><a href="#/usage">Usage <span class="glyphicon glyphicon-pencil"></span></a></li>\n        <li><a href="#/panels">Panels <span class="glyphicon glyphicon-th-large"></span></a></li>\n        <li><a href="#/batts">Batteries <span class="glyphicon glyphicon-oil"></span></a></li>\n      </ul>\n    </div>\n  </div>\n</nav>';return e},"panel-settings":function(n,t){var e=(t.encode,function(n,e){a+=t(n,e)}),a='<a name="settings"></a>\n\n<div class="panel panel-default" id="panelSettings">\n  <div class="panel-heading">\n     <h3 class="panel-title">Panel Settings</h3>\n   </div>\n   <div class="panel-body">   \n\n      ';return e("input-radio",{name:"PanelSize",value:Db.Data.PanelSize,options:[50,75,100,150,200,250,275,300,325],title:"Size of your panels in watts"}),a+=" \n      <hr/>\n      ",e("input-radio",{name:"Insolation",value:Db.Data.Insolation,options:[1,2,3,4,5,6],title:"Number of hours your region receives"}),a+=" \n      <hr/>\n      ",e("input-radio",{name:"FudgeFactor",value:Db.Data.FudgeFactor,options:[1,1.1,1.25,1.4,1.5,1.75,2],title:"Acccount for inefficiencies of panels, controller, wiring, etc"}),a+="   \n       \n  \n\n  </div>\n</div>   \n"},panels:function(n,t){var e=t.encode,a=function(n,e){o+=t(n,e)},o="";a("panel-settings",n),o+='\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <div class="pull-right" \n        title="Insolation * PanelSize">\n          Panel Watts: <b>'+e(Db.Data.PanelSize*Db.Data.Insolation)+'</b>\n    </div>\n    <h3 class="panel-title">Panels</h3>\n  </div>\n  <table class="table table-striped">\n  <thead>\n    <tr>\n      <th>Priority</th>\n      <th>Watts</th>\n      <th>Fudged</th>\n      <th width="120"># of Panels</th>\n    </tr>\n  </thead>\n  <tbody>\n  ';var l=Watts.priorities;o+="\n  ";for(var i=0;i<l.length;i++)o+="\n    <tr>\n      <td>"+e(l[i])+"</td>\n      <td>"+e(Watts.sumOfWattsBy(l[i]).toLocaleString())+"</td>\n      <td>"+e((Watts.sumOfWattsBy(l[i])*Db.Data.FudgeFactor).toLocaleString())+'</td>\n      <td>\n        <span title="'+e(Watts.numberOfPanels(l[i]))+'">\n          '+e(Math.ceil(Watts.numberOfPanels(l[i])))+"\n        </span>\n      </td>\n    </tr>\n  ";return o+="   \n  </tbody>\n  </table>\n</div>\n"},save:function(n,t){var e=t.encode,a=function(n,e){o+=t(n,e)},o='\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title" id="mypanelLabel">Save</h4>\n  </div>\n  <div class="panel-body">\n      <div class="alert alert-info .alert-dismissible" role="alert">\n         <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n        <p>\n           Your changes are saved automatically via localstorage. However, if you want to permanantly save your plan\'s data, or share it with others, copy the text below.\n        </p>\n        <p>\n          If you have a copy that you want to use, paste it below and click the \'Update\' button.\n        </p>\n      </div>\n        <textarea rows="30" cols="70" id="txtJson" style="width:100%">'+e(JSON.stringify(n,null,2))+'</textarea>\n  </div>\n  <div class="panel-footer">\n    <button type="button" class="btn btn-danger pull-left" onclick="Db.reset()">\n      Reset\n    </button>\n    <div class="pull-right">\n      <button type="button" class="btn btn-primary" onclick="Db.update()">Update</button>\n      <button type="button" class="btn btn-default" onclick="document.location=\'#/usage\'">Cancel</button>\n    </div>\n\n    <div class="clearfix"></div>\n  </div>\n</div>\n';return"undefined"!=typeof Version&&(o+="\n  ",a("versions",n),o+="\n"),o+="\n\n"},usage:function(n,t){var e=t.encode,a='<a name="usage"></a>\n\n<div class="panel panel-default" id="pnlUsage">\n  <div class="panel-heading">\n    <a href="#/item/new" \n        class=\'btn btn-success btn-sm pull-right\'>New</a>\n    <h3 class="panel-title pull-left">\n      Usage <small>of appliances</small>\n    </h3>\n    <div class="clearfix"></div>\n  </div>\n  <table class="table table-hover table-bordered">\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Watts</th>\n      <th>Hours</th>\n      <th title="Need, Want or Luxury">Priority</th>\n\n      <th width="140">Watt Hours</th>     \n    </tr>\n  </thead>\n  <tbody>\n  ',o=0;a+="\n  ";var l=0;a+="\n  ";var i=Watts.priorities;a+="\n  ";for(var s=0;s<i.length;s++){a+="\n    ";var r=Watts.itemsBy(i[s]);if(a+="\n    ",r.length>0){a+="\n      ";for(var d=0;d<r.length;d++)a+="\n        <tr onclick=\"document.location='#/item/"+e(l)+"'\">\n          <td >"+e(r[d].name)+"</td>\n          <td >"+e(r[d].watts)+"</td>\n          <td >"+e(r[d].hours)+"</td>\n          <td >"+e(r[d].priority)+"</td>\n          <td >"+e((r[d].hours*r[d].watts).toLocaleString())+"</td>\n        </tr>\n       ",o+=r[d].hours*r[d].watts,a+="\n       ",l++,a+="\n     ";a+='\n     <tr>\n        <td class="subtotal" colspan="4">\n          ',"Want"==i[s]&&(a+="\n            ("+e(Watts.byPriority("Need").toLocaleString())+" + <b>"+e(Watts.byPriority("Want").toLocaleString())+"</b> )\n          "),a+="\n          ","Luxury"==i[s]&&(a+="\n            ("+e(Watts.byPriority("Need").toLocaleString())+" + "+e(Watts.byPriority("Want").toLocaleString())+" + <b>"+e(Watts.byPriority("Luxury").toLocaleString())+"</b>)\n          "),a+="        \n        </td>\n        <td><b>"+e(Watts.sumOfWattsBy(i[s]).toLocaleString())+"</b></td>\n      </tr>\n    "}a+="\n\n  "}return a+="\n </tbody>\n  </table>\n</div>"},versions:function(n,t){var e=t.encode,a="",o=Version.versions();a+="\nVersions: \n";for(var l=0;l<o.length;l++)a+='\n  <button onclick="Version.show('+e(l)+');">'+e(l)+"</button>\n";return a+="\n\nTotal size of data: "+e(Db.size().toLocaleString())+"\n\n<p>"+e(Db.size())+"</p>\n\n\n<p>"+e(Db.usagePercentage())+'</p>\n\n<div class="progress">\n  <div class="progress-bar" role="progressbar" aria-valuenow="70"\n  aria-valuemin="0" aria-valuemax="100" style="width:'+e(Db.usagePercentage())+'%">\n    <span class="sr-only">'+e(Db.usagePercentage())+"% Complete</span>\n  </div>\n</div>"}},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(n){return(null==n?"":""+n).replace(t.encReg,function(n){return t.encMap[n]||""})},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.tmpl=t}(this);
